const formButton=document.querySelector(".find-us-button"),contactUs=document.querySelector(".contact-us"),popupClose=contactUs.querySelector(".modal-close"),form=contactUs.querySelector(".contact-us-form"),formName=form.querySelector("[name]"),formEmail=form.querySelector(".contact-email"),formText=form.querySelector(".contact-text");let storageName="",storageEmail="",isStorageSupport=!0;try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}formButton.addEventListener("click",(function(e){e.preventDefault(),contactUs.classList.add("modal-show"),formText.value="",isStorageSupport&&(formName.value=storageName,formEmail.value=storageEmail),formName.value?formEmail.focus():formName.focus(),formName.value&&formEmail.value&&formText.focus()})),popupClose.addEventListener("click",(function(e){e.preventDefault(),contactUs.classList.remove("modal-show"),contactUs.classList.remove("modal-error")})),window.addEventListener("keydown",(function(e){contactUs.classList.contains("modal-show")&&"Escape"===e.key&&(e.preventDefault(),contactUs.classList.remove("modal-show"))})),form.addEventListener("submit",(function(e){formName.value&&formEmail.value?isStorageSupport&&(localStorage.setItem("name",formName.value),localStorage.setItem("email",formEmail.value)):(e.preventDefault(),contactUs.classList.remove("modal-error"),contactUs.offsetWidth=contactUs.offsetWidth,contactUs.classList.add("modal-error"))}));
